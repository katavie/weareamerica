---
---

<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta name="title" content="{{site.title}}">
        <meta name="description" content="{{site.brief_description}}"> 
        <!--TODO: favicon-->
        <title>{{site.title}}</title>
        <link href="https://fonts.googleapis.com/css?family=Lato:400|Staatliches" rel="stylesheet">
        <link rel="stylesheet" href="css/styles.css">
    </head>

    <body>
        <script src="js/scripts.js"></script>

        <header id="page-header">
            <h1>{{site.title}}</h1>
            <h2>{{site.subtitle}}</h2>

            <nav>
                {% for link in site.header_links %}
                <a href="{{link.url | prepend:site.url }}" {% if link.id %}id="{{link.id}}"{% endif %} {% if link.active %}class="active"{% endif %}>{{link.title}}</a>
                {% endfor %}
            </nav>

            <div id="about" class="visible">
                <p>{{site.about_content}}</p>
            </div>

            <div id="contact">
                <p>{{site.contact_blurb}}</p>

                <form action="https://formspree.io/weareamericaLHS@gmail.com" method="POST">
                    <label for="name">Name: </label>
                    <input type="text" name="name" id="name">

                    <label for="email">Email: </label>
                    <input type="email" name="email" id="email">

                    <label for="message">Message: </label>
                    <textarea name="message" id="message"></textarea>

                    <input type="submit" value="Send">
                </form>
            </div>
        </header>
        
        <section>
                <div class="modal micromodal-slide" id="modal-1" aria-hidden="true">
                        <div class="modal__overlay" tabindex="-1" data-micromodal-close>
                          <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
                            <header class="modal__header">
                              <h2 class="modal__title" id="modal-1-title">
                                Micromodal
                              </h2>
                              <button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
                            </header>
                            <main class="modal__content" id="modal-1-content">
                              <p>
                                Try hitting the <code>tab</code> key and notice how the focus stays within the modal itself. Also, <code>esc</code> to close modal.
                              </p>
                            </main>
                            <footer class="modal__footer">
                              <button class="modal__btn modal__btn-primary">Continue</button>
                              <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
                            </footer>
                          </div>
                        </div>
                      </div>

            <div id="stories-container" class="container grid">
                <div class="grid-sizer"></div>
                <div class="gutter-sizer"></div>
                
                {% for story in site.stories_data %}
                <article class="story grid-item" data-micromodal-trigger="modal-1">
                    <img src="{{story.photo_url | prepend:site.url}}" alt="{{story.author}}" class="lazy portrait">

                    <div class="caption">
                        <div class="story-info">
                            <h3>{{story.title}}</h3>
                            <h4>{{story.author}}</h4>
                        </div>
                        
                        <a class="play-circle">
                            <div class="play-triangle"></div>
                        </a>
                    </div>
                </article>
                {% endfor %}
            </div>
        </section>

        <script>
            var myLazyLoad = new LazyLoad({
                elements_selector: '.lazy'
            });

            var grid = document.querySelector('.grid');
            var msnry = new Masonry( grid, {
                itemSelector: '.grid-item',
                columnWidth: '.grid-sizer',
                gutter: '.gutter-sizer',
                percentPosition: true
            });
            imagesLoaded( grid ).on( 'progress', function() {
                msnry.layout();
            });

            var contactLink = document.getElementById('contact-link');
            var aboutLink = document.getElementById('about-link');
            var contactContent = document.getElementById('contact');
            var aboutContent = document.getElementById('about');

            function toggleContent() {
                contactLink.classList.toggle('active');
                aboutLink.classList.toggle('active');
                contactContent.classList.toggle('visible');
                aboutContent.classList.toggle('visible');
            }

            contactLink.addEventListener('click', toggleContent);
            aboutLink.addEventListener('click', toggleContent);

            MicroModal.init();
        </script>
    </body>
</html>